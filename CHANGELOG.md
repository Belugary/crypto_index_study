# 更新日志

所有重要的项目更改都会记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
版本号遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [未发布]

### 新增
- 待发布的新功能

### 修改
- 待发布的功能改进

### 修复
- 待发布的问题修复

## [2025-01-11] - 日志管理系统重构

### 修改
- 🔧 **重构日志管理系统**：统一所有日志文件到根目录 `logs/`
- 🗂️ **优化目录结构**：移除 `data/logs/` 混乱结构
- 📋 **更新文档**：同步 copilot-instructions.md 中的日志管理规范

### 修复
- 修复 BatchDownloader 日志路径配置问题
- 更新 .gitignore 规则，忽略所有日志文件

## [2025-01-11] - 价格数据更新系统

### 新增
- 📊 **完整的价格数据增量更新系统** (`scripts/update_price_data.py`)
- 🚀 **智能增量更新**：仅更新过期数据，避免重复下载
- 📈 **Top500 市值排名**：自动发现和更新前 500 名币种
- ⚡ **实时进度跟踪**：带时间预估和速率显示的进度条
- 🆕 **新币种自动集成**：发现新币种并自动添加到数据集

### 修改
- 🚀 **性能优化**：API 调用频率优化至 461.5 calls/min (0.13s 间隔)
- ⚡ **时间效率**：更新时间从 10+ 分钟降至 16.8 秒 (99.5% 时间节省)
- 📊 **数据覆盖**：扩展到 top500 币种 (原 top300)

### 数据更新
- 📈 更新了 500+ 个加密货币的价格数据
- 🆕 新增 11 个币种的完整历史数据
- 🔄 所有 CSV 文件更新至最新可用日期

## [2025-01-10] - 元数据管理系统

### 新增
- 📋 **完整的元数据管理系统** (`scripts/update_all_metadata.py`)
- 🏦 **稳定币识别**：自动识别和标记稳定币
- 📊 **币种元数据**：收集和存储币种详细信息
- 🔄 **增量更新**：智能检测和更新过期元数据

### 修改
- 🗂️ **目录结构优化**：重新组织 `data/metadata/` 目录
- 📁 **文件管理**：统一元数据文件格式和命名

## [2025-01-09] - 项目基础架构

### 新增
- 🏗️ **项目基础架构**：建立核心目录结构
- 🔌 **CoinGecko API 封装**：完整的 Pro API 客户端
- 📥 **批量下载器**：支持智能批量下载和缓存
- 🧪 **测试系统**：全面的 API 测试覆盖

### 功能特性
- 🔹 **基础 API**：市场数据、币种信息、历史图表
- 💼 **Premium API**：高级市场分析功能
- 👑 **Analyst API**：专业分析师功能
- 🛡️ **错误处理**：完善的重试机制和日志记录

---

## 版本说明

- **[YYYY-MM-DD]**: 发布日期
- **新增**: 新功能
- **修改**: 现有功能的改进
- **修复**: 问题修复
- **数据更新**: 数据集的重大更新
- **安全**: 安全相关的修复

## 图标说明

- 🔧 架构/配置相关
- 📊 数据相关
- 🚀 性能优化
- ⚡ 效率提升
- 🆕 新功能
- 🔄 更新/同步
- 📋 文档相关
- 🗂️ 目录结构
- 🏦 业务逻辑
- 🧪 测试相关
- 🛡️ 安全/错误处理
- 🔌 API 相关
- 📥 下载/获取
- 🏗️ 基础架构
